<configuration>
	<components>
		<partial-component id="TreeServiceShell">
			<parameters>
				<tasks>
					<list>
						<item insert="last">${SettingNodes.AboutSectionProvider}</item>
					</list>
				</tasks>
			</parameters>
		</partial-component>
		
		<component
			id ="SettingNodes.AboutSectionProvider"
			service="UCommerce.Tree.ITreeContentProvider, UCommerce"
			type="SampleApp.Extensions.UI.Tree.AboutNodeProvider, SampleApp.Extensions" >
			<parameters>
				<nodeName>About</nodeName>
				<supportTypes>
					<list>
						<item>settings</item>
						<item>root</item>
					</list>
				</supportTypes>
			</parameters>
		</component>


		<!-- This is the configuration of the AboutTabInSettings example -->
		<!-- This pipeline task that adds a tab to the settings node in the uCommerce backoffice -->
		<component
			id="PageBuilder.AboutTabInSettings"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.Presentation.UI.SectionGroup, UCommerce.Presentation]], UCommerce"
			type="SampleApp.Extensions.UI.Tab.AboutTabInSettings, SampleApp.Extensions">
			<parameters>
				<!-- Inject a specific configuration of the TabConfiguration by using the component id -->
				<tabConfiguration>${TabConfiguration}</tabConfiguration>
			</parameters>
		</component>

		<!-- Adds the AboutTabInSettings pipeline task into the view builder pipeline -->
		<partial-component id="PageBuilder">
			<parameters>
				<tasks>
					<array>
						<item insert="last">${PageBuilder.AboutTabInSettings}</item>
					</array>
				</tasks>
			</parameters>
		</partial-component> -->
		
		<!-- Shows how you can control the value of properties on an object through the castle windsor config -->
		<component
			id="TabConfiguration"
			service="SampleApp.Extensions.Configuration.TabConfiguration, SampleApp.Extensions"
			type="SampleApp.Extensions.Configuration.TabConfiguration, SampleApp.Extensions">
			<parameters>
				<ShowTab>true</ShowTab>
				<ShowUCommerceVersion>true</ShowUCommerceVersion>
				<ShowShemaVersion>true</ShowShemaVersion>
			</parameters>
		</component>

		<!-- Adds the AddShoeDefinitionPipelineTask into the Initialize pipeline -->
		<partial-component id="Initialize">
			<parameters>
				<tasks>
					<array>
						<item insert="last">${Initialize.AddShoeDefinitionPipeline}</item>
					</array>
				</tasks>
			</parameters>
		</partial-component>

		<!-- This is the configuration of the task which executes the AddShoeDefintion pipeline -->
		<component id="Initialize.AddShoeDefinitionPipeline"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.Pipelines.Initialization.InitializeArgs, UCommerce.Pipelines]], UCommerce"
			type="SampleApp.Extensions.Pipelines.Initialize.AddShoeDefinitionPipelineTask, SampleApp.Extensions">
			<parameters>
				<addShoeDefinitionPipeline>${AddShoeDefinitionPipeline}</addShoeDefinitionPipeline>
			</parameters>
		</component>

		<!-- This is the configuration of the AddShoeDefinition example -->
		<!-- Shows how you can registred the task which should be run inside of the pipelin -->
		<component id="AddShoeDefinitionPipeline"
				   service="UCommerce.Pipelines.IPipeline`1[[UCommerce.EntitiesV2.ProductDefinition, UCommerce]], UCommerce"
				   type="SampleApp.Extensions.Pipelines.ProductDefinition.AddShoeDefinitionPipeline, SampleApp.Extensions">
			<parameters>
				<tasks>
					<array>
						<value>${ProductDefinition.ModifyShoeDefinitionTask}</value>
						<value>${ProductDefinition.MergeShoeDefinitionTask}</value>
						<value>${ProductDefinition.SaveShoeDefinitionTask}</value>
					</array>
				</tasks>
			</parameters>
		</component>

		<!-- This is the configuration of the tasks to the AddShoeDefinition pipeline -->
		<component id="ProductDefinition.ModifyShoeDefinitionTask"
								service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.EntitiesV2.ProductDefinition, UCommerce]], UCommerce"
								type="SampleApp.Extensions.Pipelines.ProductDefinition.ModifyShoeDefinitionTask, SampleApp.Extensions" />

		<component id="ProductDefinition.MergeShoeDefinitionTask"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.EntitiesV2.ProductDefinition, UCommerce]], UCommerce"
			type="SampleApp.Extensions.Pipelines.ProductDefinition.MergeShoeDefinitionTask, SampleApp.Extensions" />

		<component id="ProductDefinition.SaveShoeDefinitionTask"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.EntitiesV2.ProductDefinition, UCommerce]], UCommerce"
			type="SampleApp.Extensions.Pipelines.ProductDefinition.SaveShoeDefinitionTask, SampleApp.Extensions" />

		<!-- Adds the AddClientSideButtonToSettingsSearch into the PageBuilder pipeline -->
		<partial-component id="PageBuilder">
			<parameters>
				<tasks>
					<array>
						<item insert="last">${PageBuilder.AddServerSideButtonToSettingsSearch}</item>
						<item insert="last">${PageBuilder.AddClientSideButtonToSettingsSearch}</item>
					</array>
				</tasks>
			</parameters>
		</partial-component>

		<!-- This is the configuration of the tasks to the AddClientSideButtonToSettingsSearch pipeline -->
		<component id="PageBuilder.AddServerSideButtonToSettingsSearch"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.Presentation.UI.SectionGroup, UCommerce.Presentation]], UCommerce"
			type="SampleApp.Extensions.UI.Button.AddServerSideButtonToSettingsSearchTask, SampleApp.Extensions" />
		
		<component id="PageBuilder.AddClientSideButtonToSettingsSearch"
			service="UCommerce.Pipelines.IPipelineTask`1[[UCommerce.Presentation.UI.SectionGroup, UCommerce.Presentation]], UCommerce"
			type="SampleApp.Extensions.UI.Button.AddClientSideButtonToSettingsSearchTask, SampleApp.Extensions" />

	</components>
</configuration>
